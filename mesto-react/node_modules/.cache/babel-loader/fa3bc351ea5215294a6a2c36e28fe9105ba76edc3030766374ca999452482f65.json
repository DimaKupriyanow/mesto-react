{"ast":null,"code":"import _classCallCheck from\"/Users/dimakupriyanow/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/dimakupriyanow/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._url=baseUrl;this._headers=headers;}_createClass(Api,[{key:\"_getResponse\",value:function _getResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._url,\"users/me\"),{headers:this._headers}).then(this._getResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this._url,\"cards\"),{headers:this._headers}).then(this._getResponse);}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._url,\"cards/\").concat(id),{headers:this._headers,method:\"DELETE\"}).then(this._getResponse);}},{key:\"createCardData\",value:function createCardData(data){return fetch(\"\".concat(this._url,\"cards\"),{headers:this._headers,method:\"POST\",body:JSON.stringify({name:data.inputNameCard,link:data.inputLink})}).then(this._getResponse);}},{key:\"changeProfile\",value:function changeProfile(data){return fetch(\"\".concat(this._url,\"users/me\"),{headers:this._headers,method:\"PATCH\",body:JSON.stringify({name:data.inputName,about:data.inputInfo})}).then(this._getResponse);}},{key:\"likeCard\",value:function likeCard(id){return fetch(\"\".concat(this._url,\"cards/\").concat(id,\"/likes\"),{headers:this._headers,method:\"PUT\"}).then(this._getResponse);}},{key:\"deleteLikesCard\",value:function deleteLikesCard(id){return fetch(\"\".concat(this._url,\"cards/\").concat(id,\"/likes\"),{headers:this._headers,method:\"DELETE\"}).then(this._getResponse);}},{key:\"changeAvatar\",value:function changeAvatar(data){return fetch(\"\".concat(this._url,\"users/me/avatar\"),{headers:this._headers,method:\"PATCH\",body:JSON.stringify({avatar:data.inputLinkAvatar})}).then(this._getResponse);}}]);return Api;}();var apiConfig={baseUrl:\"https://mesto.nomoreparties.co/v1/cohort-76/\",headers:{authorization:\"487361ea-3659-4f38-9ffe-1c80ddb5a2d6\",\"Content-Type\":\"application/json\"}};export var newApi=new Api(apiConfig);export default Api;","map":{"version":3,"names":["Api","_ref","baseUrl","headers","_classCallCheck","_url","_headers","_createClass","key","value","_getResponse","res","ok","json","Promise","reject","concat","status","getUserInfo","fetch","then","getInitialCards","deleteCard","id","method","createCardData","data","body","JSON","stringify","name","inputNameCard","link","inputLink","changeProfile","inputName","about","inputInfo","likeCard","deleteLikesCard","changeAvatar","avatar","inputLinkAvatar","apiConfig","authorization","newApi"],"sources":["/Users/dimakupriyanow/mesto-react/src/utils/api.js"],"sourcesContent":["\n class Api {\n    constructor({ baseUrl, headers }) {\n      this._url = baseUrl;\n      this._headers = headers;\n    }\n  \n    _getResponse(res) {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  \n    getUserInfo() {\n      return fetch(`${this._url}users/me`, {\n        headers: this._headers,\n      }).then(this._getResponse);\n    }\n  \n    getInitialCards() {\n      return fetch(`${this._url}cards`, {\n        headers: this._headers,\n      }).then(this._getResponse);\n    }\n  \n    deleteCard(id) {\n      return fetch(`${this._url}cards/${id}`, {\n        headers: this._headers,\n        method: \"DELETE\",\n      }).then(this._getResponse);\n    }\n  \n    createCardData(data) {\n      return fetch(`${this._url}cards`, {\n        headers: this._headers,\n        method: \"POST\",\n        body: JSON.stringify({\n          name: data.inputNameCard,\n          link: data.inputLink,\n        }),\n      }).then(this._getResponse);\n    }\n  \n    changeProfile(data) {\n      return fetch(`${this._url}users/me`, {\n        headers: this._headers,\n        method: \"PATCH\",\n        body: JSON.stringify({\n          name: data.inputName,\n          about: data.inputInfo,\n        }),\n      }).then(this._getResponse);\n    }\n   \n    likeCard(id) {\n      return fetch(`${this._url}cards/${id}/likes`, {\n        headers: this._headers,\n        method: \"PUT\",\n      }).then(this._getResponse);\n    }\n  \n    deleteLikesCard(id) {\n      return fetch(`${this._url}cards/${id}/likes`, {\n        headers: this._headers,\n        method: \"DELETE\",\n      }).then(this._getResponse);\n    }\n  \n    changeAvatar(data) {\n      return fetch(`${this._url}users/me/avatar`, {\n        headers: this._headers,\n        method: \"PATCH\",\n        body: JSON.stringify({\n          avatar: data.inputLinkAvatar,\n        }),\n      }).then(this._getResponse);\n    }\n  }\n    const apiConfig = {\n      baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-76/\",\n      headers: {\n        authorization: \"487361ea-3659-4f38-9ffe-1c80ddb5a2d6\",\n        \"Content-Type\": \"application/json\",\n      },\n    };\n\n    export const newApi = new Api(apiConfig);\n  export default Api;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}